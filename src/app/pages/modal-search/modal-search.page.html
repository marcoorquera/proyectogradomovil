<ion-header>
  <ion-toolbar>
    <ion-title>modal-search</ion-title>
    <ion-button (click)="salir()" fill="clear" slot="end">
      <ion-icon name="close-circle-outline"></ion-icon>
    </ion-button>
  </ion-toolbar>
</ion-header>

<ion-content>
  
  
  <div class="opciones">
    <div class="ruleta">
      <ion-segment style="--overflow: hidden;" scrollable>
        <ion-col>
          <ion-button shape="round" (click)="showEmpresas()">
            empresas
          </ion-button>
        </ion-col>
        <ion-col>
          <ion-button shape="round" (click)="showProductCategory()">
            categorias
          </ion-button>
        </ion-col>
        <ion-col>
          <ion-button shape="round" (click)="showProductos()">
            Producto
          </ion-button>
        </ion-col>
      </ion-segment>
    </div>
  </div>
  
  
  <div>
    <div [hidden]="empresasEnable" class="empresas">
      <div >
        <ion-searchbar color="medium" animated (ionChange)="buscar( $event )">
        
        </ion-searchbar>
      </div >
      <div class="titulo">
        <h2>Empresas</h2>
      </div>
      <div class="main" *ngFor="let proveedor of proveedores | filtro: textoBuscar">
        <div (click)="showDetailesProds( proveedor.uid_vendedor, proveedor.image_vendedor, proveedor.nombre_empresa)" class="card">
          <div class="div1">
            <h3>
              {{proveedor.nombre_empresa}}
            </h3>
          </div>
          <div class="div2">
            <img [src]="proveedor.image_vendedor">
          </div>
          <div class="div3">
            <p>
              {{proveedor.direccion_vendedor}}
            </p>
          </div>
        </div>
      </div>
    </div>
    <div [hidden]="CategoriasEnable" class="empresas">

      <div>
        <ion-searchbar color="medium" animated (ionChange)="buscarCategory( $event )"></ion-searchbar>
      </div>
      <div class="titulo">
        <h2>Categorias</h2>

      </div>

      <!--(click)="detailCategoria(duplicado.image_empresa, duplicado.categoria, duplicado.empresa)"-->
      <div class="main" *ngFor="let duplicado of duplicados | filtroCategory: textoBuscarCat: 'codigo_categoria'">
        <div (click)="CategorySelected(duplicado.image_empresa, duplicado.categoria, duplicado.empresa)" class="card_prod">
          <div class="div1">

          </div>
          <div class="div2">
            <img class="img_prod" [src]="duplicado.image_empresa">
          </div>
          <div class="div3">
            <ion-text color="primary">
              <h1>{{duplicado.empresa}}</h1>
            </ion-text>

          </div>
          <div class="div4">
            <p style="opacity:0">{{duplicado.categoria}}</p>
          </div>
        </div>

      </div>
      

      <!--
        <div class="main" *ngFor="let producto of productos | filtroProd: textoBuscarProd">
        <div (click)="modalPedido(producto.nombre_producto, producto.nombre_proveedor, producto.descripcion_producto, producto.categoria_producto, producto.cantidad_producto, producto.precio_producto, producto.uid_user, producto.image_producto)" class="card_prod">
          <div class="div1">

          </div>
          <div class="div2">
            <img class="img_prod" [src]="producto.image_empresa">
          </div>
          <div class="div3">
            <ion-text color="primary">
              <h1>{{producto.empresa_proveedor}}</h1>
            </ion-text>

          </div>
          <div class="div4">
            <p style="opacity:0">{{producto.nombre_producto}}</p>
          </div>
        </div>

      </div>
      -->

    </div>
    <div [hidden]="productosEnable" class="empresas">

      <div>
        <ion-searchbar color="medium" animated (ionChange)="buscarProducto( $event )"></ion-searchbar>
      </div>
      <div class="titulo">
        <h2>Productos</h2>

      </div>
      <div class="main" *ngFor="let producto of productos | filtroProd: textoBuscarProd">
        <div (click)="modalPedido(producto.nombre_producto, producto.nombre_proveedor, producto.descripcion_producto, producto.categoria_producto, producto.cantidad_producto, producto.precio_producto, producto.uid_user, producto.image_producto)" class="card_prod">
          <div class="div1">

          </div>
          <div class="div2">
            <img class="img_prod" [src]="producto.image_empresa">
          </div>
          <div class="div3">
            <ion-text color="primary">
              <h1>{{producto.empresa_proveedor}}</h1>
            </ion-text>

          </div>
          <div class="div4">
            <p style="opacity:0">{{producto.nombre_producto}}</p>
          </div>
        </div>

      </div>


    </div>
</div>
</ion-content>
